!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Carousel=t()}("undefined"!=typeof self?self:this,function(){"use strict";var a={CAROUSEL_WRAP:"#carouselWrap",CAROUSEL_DOTS:"#carouselDots",ARROW_LEFT:"#arrowLeft",ARROW_RIGHT:"#arrowRight"},t="carousel-wrap",o="carousel-image",u="carousel-buttons-wrap",n="carousel-buttons",l="carousel-button",s="carousel-button on",r="carousel-arrow arrow-left",i="carousel-arrow arrow-right";function c(e,t,s){e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s}var e=function(e,t){var s=this;!function(e,t,s){for(var r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!s||(e[r]=t[r])}(this.carouselOptions,t,!0),s.carousel=document.querySelector(e),s.carousel.appendChild(s.getImgs()),s.carouselWrap=document.querySelector(a.CAROUSEL_WRAP);var r=setInterval(function(){s.isCarouselComplete()&&(clearInterval(r),s.initCarousel(),s.initDots(),s.initArrows())},50)};return e.prototype={carouselOptions:{carouselWidth:600,carouselHeight:400,showArrow:!0,showDot:!0,carouselTime:3e3,carouselMode:"pc"},isCarouselComplete:function(){for(var e=0,t=0;t<this.carouselWrap.children.length;t++)this.carouselWrap.children[t].complete&&e++;return e===this.carouselWrap.children.length},initCarousel:function(e,t){this.carouselCount=this.carouselWrap.children.length,this.setCarousel(),this.carouselIndex=1,this.carouselTimer=null,this.carouselAnimateTime=200,this.carouselAnimateInterval=10,this.carouselAnimateSpeed=this.carouselWidth/(this.carouselAnimateTime/this.carouselAnimateInterval),this.isCarouselAnimate=!1,this.isDotClick=!1,this.bindCarousel(),this.playCarousel()},setCarousel:function(){var e=this,t=e.carouselWrap.children[0].cloneNode(!0),s=e.carouselWrap.children[e.carouselCount-1].cloneNode(!0);e.carouselWrap.insertBefore(s,e.carouselWrap.children[0]),e.carouselWrap.appendChild(t),e.setCarouselWidth(e.carouselOptions.carouselWidth),e.setCarouselHeight(e.carouselOptions.carouselHeight),e.carouselWidth=e.getCarouselWidth(),e.setCarouselWrapLeft(-e.carouselWidth),e.setCarouselWrapWidth(e.carouselWidth*e.carouselWrap.children.length)},setCarouselWidth:function(e){this.carousel.style.width=e+"px"},setCarouselHeight:function(e){this.carousel.style.height=e+"px"},getCarouselWidth:function(){return parseInt(this.carousel.style.width)},setCarouselWrapLeft:function(e){this.carouselWrap.style.left=e+"px"},getCarouselWrapLeft:function(){return parseInt(this.carouselWrap.style.left)},setCarouselWrapWidth:function(e){this.carouselWrap.style.width=e+"px"},getCarouselWrapWidth:function(){return parseInt(this.carouselWrap.style.width)},getImgs:function(){var e=document.createElement("div");e.setAttribute("class",t),e.setAttribute("id",a.CAROUSEL_WRAP.substring(1,a.CAROUSEL_WRAP.length));var s=document.createDocumentFragment(),r=document.createElement("img");return this.carouselOptions.carouselImages.forEach(function(e,t){(r=r.cloneNode(!1)).setAttribute("class",o),r.setAttribute("src",e),r.setAttribute("alt",t+1),s.appendChild(r)}),e.appendChild(s),e},initArrows:function(){this.carouselOptions.showArrow&&(this.carousel.appendChild(this.getArrows()),this.arrowLeft=document.querySelector(a.ARROW_LEFT),this.arrowRight=document.querySelector(a.ARROW_RIGHT),this.bindArrows())},getArrows:function(){var e=document.createDocumentFragment(),t=document.createElement("a"),s=document.createElement("a");return t.setAttribute("href","javascript:;"),t.setAttribute("class",r),t.setAttribute("id",a.ARROW_LEFT.substring(1,a.ARROW_LEFT.length)),t.innerHTML="&lt;",s.setAttribute("href","javascript:;"),s.setAttribute("class",i),s.setAttribute("id",a.ARROW_RIGHT.substring(1,a.ARROW_RIGHT.length)),s.innerHTML="&gt;",e.appendChild(t),e.appendChild(s),e},initDots:function(){this.carouselOptions.showDot&&(this.carousel.appendChild(this.getDots()),this.carouselDots=document.querySelector(a.CAROUSEL_DOTS),this.setDot(),this.bindDots())},getDots:function(){var e=document.createElement("div");e.setAttribute("class",u);var t=document.createElement("div");t.setAttribute("class",n),t.setAttribute("id",a.CAROUSEL_DOTS.substring(1,a.CAROUSEL_DOTS.length));for(var s=document.createDocumentFragment(),r=document.createElement("span"),o=0,i=this.carouselCount;o<i;o++)(r=r.cloneNode(!1)).setAttribute("class",l),s.appendChild(r);return t.appendChild(s),e.appendChild(t),e},bindDots:function(){for(var s=this,e=0,t=this.carouselDots.children.length;e<t;e++)!function(t){c(s.carouselDots.children[t],"click",function(e){s.isCarouselAnimate||(s.isDotClick=!0,s.dotIndex=t+1,s.moveDot())})}(e)},moveDot:function(){this.changeCarousel(),this.carouselIndex=this.dotIndex,this.setDot()},changeCarousel:function(){this.currentNode=this.carouselWrap.children[this.carouselIndex];var e=this.carouselWrap.children[this.dotIndex];if(this.carouselIndex<this.dotIndex){var t=this.currentNode.nextElementSibling;this.carouselWrap.insertBefore(e.cloneNode(!0),t),this.moveCarousel(this.getCarouselWrapLeft()-this.carouselWidth,-this.carouselAnimateSpeed)}this.carouselIndex>this.dotIndex&&(this.carouselWrap.insertBefore(e.cloneNode(!0),this.currentNode),this.setCarouselWrapLeft(-(this.carouselIndex+1)*this.carouselWidth),this.moveCarousel(this.getCarouselWrapLeft()+this.carouselWidth,this.carouselAnimateSpeed))},setDot:function(){for(var e=0,t=this.carouselDots.children.length;e<t;e++)this.carouselDots.children[e].setAttribute("class",l);this.carouselDots.children[this.carouselIndex-1].setAttribute("class",s)},playCarousel:function(){var e=this;this.carouselTimer=window.setInterval(function(){e.nextCarousel()},this.carouselOptions.carouselTime)},bindCarousel:function(){var t=this;c(this.carousel,"mouseenter",function(e){clearInterval(t.carouselTimer)}),c(this.carousel,"mouseleave",function(e){t.playCarousel()})},bindArrows:function(){var t=this;c(this.arrowLeft,"click",function(e){t.prevCarousel()}),c(this.arrowRight,"click",function(e){t.nextCarousel()})},isFirstCarousel:function(){return 0===this.getCarouselWrapLeft()},isLastCarousel:function(){var e=this.carouselWidth-this.getCarouselWrapWidth();return this.getCarouselWrapLeft()===e},prevCarousel:function(){this.isCarouselAnimate||(this.carouselIndex--,this.carouselIndex<1&&(this.carouselIndex=this.carouselCount),this.moveCarousel(this.getCarouselWrapLeft()+this.carouselWidth,this.carouselAnimateSpeed),this.carouselOptions.showDot&&this.setDot())},nextCarousel:function(){this.isCarouselAnimate||(this.carouselIndex++,this.carouselIndex>this.carouselCount&&(this.carouselIndex=1),this.moveCarousel(this.getCarouselWrapLeft()-this.carouselWidth,-this.carouselAnimateSpeed),this.carouselOptions.showDot&&this.setDot())},moveCarousel:function(t,s){var r=this;r.isCarouselAnimate=!0,function e(){0<s&&r.getCarouselWrapLeft()<t||s<0&&r.getCarouselWrapLeft()>t?(r.setCarouselWrapLeft(r.getCarouselWrapLeft()+s),window.setTimeout(e,r.carouselAnimateInterval)):r.resetCarousel(t,s)}()},resetCarousel:function(e,t){this.isDotClick?this.resetMoveDot(t):this.resetMoveCarousel(e),this.isDotClick=!1,this.isCarouselAnimate=!1},resetMoveDot:function(e){this.setCarouselWrapLeft(-this.dotIndex*this.carouselWidth),e<0?this.carouselWrap.removeChild(this.currentNode.nextElementSibling):this.carouselWrap.removeChild(this.currentNode.previousElementSibling)},resetMoveCarousel:function(e){this.setCarouselWrapLeft(e),e>-this.carouselWidth&&this.setCarouselWrapLeft(-this.carouselCount*this.carouselWidth),e<-this.carouselWidth*this.carouselCount&&this.setCarouselWrapLeft(-this.carouselWidth)},constructor:e},e});