!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Carousel=e()}("undefined"!=typeof self?self:this,function(){"use strict";var a={CAROUSEL:"#carousel",CAROUSEL_WRAP:"#carouselWrap",CAROUSEL_DOTS:"#carouselDots",ARROW_LEFT:"#arrowLeft",ARROW_RIGHT:"#arrowRight"},o="carousel-image",u="carousel-buttons-wrap",n="carousel-buttons",l="carousel-button",s="carousel-button on",r="carousel-arrow arrow-left",i="carousel-arrow arrow-right";function c(t,e,s){t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent?t.attachEvent("on"+e,s):t["on"+e]=s}var t=function(t,e){this.initCarousel(t,e),this.initDots(),this.initArrows()};return t.prototype={carouselOptions:{carouselWidth:600,carouselHeight:400,showArrow:!0,showDot:!0,carouselTime:3e3,carouselMode:"pc"},initCarousel:function(t,e){!function(t,e,s){for(var r in e)!e.hasOwnProperty(r)||t.hasOwnProperty(r)&&!s||(t[r]=e[r])}(this.carouselOptions,e,!0),this.getCarousel(),this.setCarousel(),this.carouselIndex=1,this.carouselTimer=null,this.carouselAnimateTime=300,this.carouselAnimateInterval=10,this.carouselAnimateSpeed=this.carouselWidth/(this.carouselAnimateTime/this.carouselAnimateInterval),this.isCarouselAnimate=!1,this.bindCarousel(),this.playCarousel()},getCarousel:function(){this.carousel=document.querySelector(a.CAROUSEL),this.carouselWrap=document.querySelector(a.CAROUSEL_WRAP),this.carouselCount=this.carouselWrap.children.length},setCarousel:function(){var t=this.carouselWrap.children[0].cloneNode(!0),e=this.carouselWrap.children[this.carouselCount-1].cloneNode(!0);this.carouselWrap.insertBefore(e,this.carouselWrap.children[0]),this.carouselWrap.appendChild(t),this.setCarouselWidth(this.carouselOptions.carouselWidth),this.setCarouselHeight(this.carouselOptions.carouselHeight),this.carouselWidth=this.getCarouselWidth(),this.setCarouselWrapLeft(-this.carouselWidth),this.setCarouselWrapWidth(this.carouselWidth*this.carouselWrap.children.length)},setCarouselWidth:function(t){this.carousel.style.width=t+"px"},setCarouselHeight:function(t){this.carousel.style.height=t+"px"},getCarouselWidth:function(){return parseInt(this.carousel.style.width)},setCarouselWrapLeft:function(t){this.carouselWrap.style.left=t+"px"},getCarouselWrapLeft:function(){return parseInt(this.carouselWrap.style.left)},setCarouselWrapWidth:function(t){this.carouselWrap.style.width=t+"px"},getCarouselWrapWidth:function(){return parseInt(this.carouselWrap.style.width)},getImgs:function(){var s=document.createDocumentFragment(),r=document.createElement("img");return this.carouselOptions.carouselImages.forEach(function(t,e){(r=r.cloneNode(!1)).setAttribute("class",o),r.setAttribute("src",t),r.setAttribute("alt",e),s.appendChild(r)}),s},initArrows:function(){this.carouselOptions.showArrow&&(this.carousel.appendChild(this.getArrows()),this.arrowLeft=document.querySelector(a.ARROW_LEFT),this.arrowRight=document.querySelector(a.ARROW_RIGHT),this.bindArrows())},getArrows:function(){var t=document.createDocumentFragment(),e=document.createElement("a"),s=document.createElement("a");return e.setAttribute("href","javascript:;"),e.setAttribute("class",r),e.setAttribute("id",a.ARROW_LEFT.substring(1,a.ARROW_LEFT.length)),e.innerHTML="&lt;",s.setAttribute("href","javascript:;"),s.setAttribute("class",i),s.setAttribute("id",a.ARROW_RIGHT.substring(1,a.ARROW_RIGHT.length)),s.innerHTML="&gt;",t.appendChild(e),t.appendChild(s),t},initDots:function(){this.carouselOptions.showDot&&(this.carousel.appendChild(this.getDots()),this.carouselDots=document.querySelector(a.CAROUSEL_DOTS),this.setDot(),this.bindDots())},getDots:function(){var t=document.createElement("div");t.setAttribute("class",u);var e=document.createElement("div");e.setAttribute("class",n),e.setAttribute("id",a.CAROUSEL_DOTS.substring(1,a.CAROUSEL_DOTS.length));for(var s=document.createDocumentFragment(),r=document.createElement("span"),o=0,i=this.carouselCount;o<i;o++)(r=r.cloneNode(!1)).setAttribute("class",l),s.appendChild(r);return e.appendChild(s),t.appendChild(e),t},bindDots:function(){for(var r=this,t=0,e=this.carouselDots.children.length;t<e;t++)!function(s){c(r.carouselDots.children[s],"click",function(t){if(!r.isCarouselAnimate){var e=s+1;r.carouselIndex<e?r.moveCarousel(-r.carouselWidth*e,3*-r.carouselAnimateSpeed):r.moveCarousel(-r.carouselWidth*e,3*r.carouselAnimateSpeed),r.carouselIndex=e,r.setDot()}})}(t)},setDot:function(){for(var t=0,e=this.carouselDots.children.length;t<e;t++)this.carouselDots.children[t].setAttribute("class",l);this.carouselDots.children[this.carouselIndex-1].setAttribute("class",s)},playCarousel:function(){var t=this;this.carouselTimer=window.setInterval(function(){t.nextCarousel()},this.carouselOptions.carouselTime)},bindCarousel:function(){var e=this;c(this.carousel,"mouseenter",function(t){clearInterval(e.carouselTimer)}),c(this.carousel,"mouseleave",function(t){e.playCarousel()})},bindArrows:function(){var e=this;c(this.arrowLeft,"click",function(t){e.prevCarousel()}),c(this.arrowRight,"click",function(t){e.nextCarousel()})},isFirstCarousel:function(){return 0===this.getCarouselWrapLeft()},isLastCarousel:function(){var t=this.carouselWidth-this.getCarouselWrapWidth();return this.getCarouselWrapLeft()===t},prevCarousel:function(){this.isCarouselAnimate||(this.carouselIndex--,this.carouselIndex<1&&(this.carouselIndex=this.carouselCount),this.moveCarousel(this.getCarouselWrapLeft()+this.carouselWidth,this.carouselAnimateSpeed),this.carouselOptions.showDot&&this.setDot())},nextCarousel:function(){this.isCarouselAnimate||(this.carouselIndex++,this.carouselIndex>this.carouselCount&&(this.carouselIndex=1),this.moveCarousel(this.getCarouselWrapLeft()-this.carouselWidth,-this.carouselAnimateSpeed),this.carouselOptions.showDot&&this.setDot())},moveCarousel:function(e,s){var r=this;r.isCarouselAnimate=!0,function t(){0<s&&r.getCarouselWrapLeft()<e||s<0&&r.getCarouselWrapLeft()>e?(r.setCarouselWrapLeft(r.getCarouselWrapLeft()+s),window.setTimeout(t,r.carouselAnimateInterval)):(r.setCarouselWrapLeft(e),e>-r.carouselWidth&&r.setCarouselWrapLeft(-r.carouselCount*r.carouselWidth),e<-r.carouselWidth*r.carouselCount&&r.setCarouselWrapLeft(-r.carouselWidth),r.isCarouselAnimate=!1)}()},constructor:t},t});